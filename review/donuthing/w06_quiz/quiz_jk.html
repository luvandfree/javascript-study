<!DOCTYPE html>
<!-- 
  [문제]
  설정한 배경색을 정해진 숫자만큼 반복

  [조건]
  1. 배경색과 반복숫자를 입력하고 적용 버튼을 클릭하면 동작함
  2. 배경색은 대소문자 구분이 없음
  3. 배경색은 () 안에 존재하는 문자가 입력되어야 하고. 그렇지 않을 경우 alert() 처리
  4. 반복숫자는 1~15 사이의 숫자가 입력되어야 함. 그렇지 않을 경우 alert() 처리
  5. 1회 실행 후 반복숫자, 배경색을 수정 후 "적용" 버튼을 다시 누르면 기존에 배경색이 변경되었던 row는 초기화되고 새로운 조건에 따라 배경색 변경
-->
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Quiz05 : Array and Loop</title>
    <style>
      div {
        margin-top: 30px;
      }
      table {
        width: 500px;
        margin-top: 100px;
      }
      td {
        border: 1px solid #999999;
        height: 20px;
        font-size: small;
        text-align: center;
      }
    </style>
    <script>
      var colorList = [
        "pink",
        "salmon",
        "coral",
        "gold",
        "plum",
        "lime",
        "skyblue",
      ];
      var numList = [
        "1",
        "2",
        "3",
        "4",
        "5",
        "6",
        "7",
        "8",
        "9",
        "10",
        "11",
        "12",
        "13",
        "14",
        "15",
      ];
      console.log(colorList);
      console.log(numList);
      // 입력 조건

      function apply() {
        reset();
        var bgColor = document.getElementById("repeatColor");
        var repeatNum = document.getElementById("repeatCount");
        console.log("색상 선택값 " + bgColor.value);
        console.log("반복 숫자 " + repeatNum.value);
        // 입력값 체크
        if (
          colorList.includes(bgColor.value.toLowerCase()) &&
          numList.includes(repeatNum.value)
          //각 배열에 입력값이 포함되어 있는지 체크
          // .toLowerCase로 입력값의 소문자로 체크
        ) {
          var rowList = document.querySelectorAll(".row");
          for (var i = 1; i <= rowList.length; i++) {
            if (i % repeatNum.value == 0) {
              rowList[i - 1].style.backgroundColor = bgColor.value;
            } else {
              continue;
            }
          }
        }

        // 둘중 하나라도 틀린경우
        else if (colorList.includes(bgColor.value.toLowerCase())) {
          alert("1~15의 숫자를 입력해주세요");
        } else {
          alert("정해진 색상만 입력해주세요");
        }
      }
      //배경색상 초기화
      function reset() {
        var target = document.querySelectorAll(".row");
        for (var i = 0; i < target.length; i++) {
          target[i].style.backgroundColor = null;
        }
      }
    </script>
  </head>
  <body>
    <div>
      배경색(pink / salmon / coral / gold / plum / lime / skyblue 중 선택) :
      <input id="repeatColor" type="text" />
    </div>
    <div>
      반복숫자(1~15) :
      <input id="repeatCount" type="text" />
    </div>
    <div>
      <button onclick="apply();">적용</button>
    </div>
    <table>
      <script>
        const ROW_COUNT = 30;
        for (i = 1; i <= ROW_COUNT; ++i) {
          document.write(`<tr class="row"><td>${i}</td></tr>`);
        }
      </script>
    </table>
  </body>
</html>
